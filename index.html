<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My Weather App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <style>
      /* Custom Styles */
      body {
        background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
        font-family: 'Poppins', sans-serif;
      }

      .navbar-brand {
        font-weight: bold;
        font-size: 1.5rem;
        color: #fff !important;
      }

      .navbar {
        background: #6c757d !important;
      }

      .card {
        background: #fff;
        border-radius: 15px;
        border: none;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .card-title {
        color: #343a40;
        font-weight: bold;
      }

      .pricing-card-title {
        font-size: 2.5rem;
        font-weight: bold;
        color: #007bff;
      }

      .card-header {
        background-color: #007bff;
        color: #fff;
        border-radius: 15px 15px 0 0;
      }

      .container {
        margin-top: 50px;
      }

      h1 {
        font-size: 2.5rem;
        color: #343a40;
        font-weight: bold;
      }

      main {
        margin-top: 40px;
      }

      footer {
        background: #6c757d;
        color: white;
        padding: 10px 0;
        position: fixed;
        bottom: 0;
        width: 100%;
        text-align: center;
      }

      #search {
        background-color: #007bff;
        color: white;
      }

      #search:hover {
        background-color: #0056b3;
        color: white;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Weather App</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Popular Cities
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Delhi</a></li>
                <li><a class="dropdown-item" href="#">Seattle</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#">Bangalore</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link">Usage Guide</a>
            </li>
          </ul>
          <form class="d-flex" role="search">
            <input id="city" class="form-control me-2" type="search" placeholder="Enter city" aria-label="Search">
            <button class="btn" type="submit" id="search">Search</button>
          </form>
        </div>
      </div>
    </nav>

    <div class="container">
        <h1 class="my-4 text-center">Weather For <span id="cityName">Your City</span></h1>
        <main>
            <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">
              <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Temperature</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title"><span id="temp_c">--</span>°C</h1>
                        <ul class="list-unstyled mt-3 mb-4">
                          <li>Feels Like: <span id="feelslike_c">--</span>°C</li>
                          <li>Max Temp: <span id="maxtemp_c">--</span>°C</li>
                          <li>Min Temp: <span id="mintemp_c">--</span>°C</li>
                          <li>Average Temp: <span id="avgtemp_c">--</span>°C</li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm">
                      <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Humidity</h4>
                      </div>
                      <div class="card-body">
                        <h1 class="card-title pricing-card-title"><span id="humidity">--</span>%</h1>
                        <ul class="list-unstyled mt-3 mb-4">
                          <li>Heat Index: <span id="heatindex_c">--</span>°C</li>
                          <li>Pressure: <span id="pressure_mb">--</span> mb</li>
                          <li>Wind Speed: <span id="wind_kph">--</span> kph</li>
                          <li>Wind Degree: <span id="wind_degree">--</span>°</li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card mb-4 rounded-3 shadow-sm">
                      <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Astro</h4>
                      </div>
                      <div class="card-body">
                        <ul class="list-unstyled mt-3 mb-4">
                          <li>Sunrise: <span id="sunrise">--:--</span></li>
                          <li>Sunset: <span id="sunset">--:--</span></li>
                          <li>Moonrise: <span id="moonrise">--:--</span></li>
                          <li>Moonset: <span id="moonset">--:--</span></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </main>
            </div>
        
            <footer>
              <p>&copy; 2024 My Weather App. All rights reserved.</p>
            </footer>
        
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
            <script>
                document.getElementById("search").addEventListener("click", (event) => {
    event.preventDefault(); // Prevent form submission

    const city = document.getElementById("city").value;
    
    const fetchdata = (city) => {
        const host = 'http://api.weatherapi.com/v1'; // Uncomment and use the host variable
        const APIKey = '3065c298526149568f8131429241108';
        const url = `${host}/forecast.json?key=${APIKey}&q=${city}&days=1`;

        fetch(url)
            .then(response => response.json())
            .then((response) => {
                console.log(response);
                
                // Ensure that all DOM elements are correctly selected
                document.getElementById("cityName").innerHTML = city;
                document.getElementById("temp_c").innerHTML = response.current.temp_c;
                document.getElementById("feelslike_c").innerHTML = response.current.feelslike_c;
                document.getElementById("maxtemp_c").innerHTML = response.forecast.forecastday[0].day.maxtemp_c;
                document.getElementById("mintemp_c").innerHTML = response.forecast.forecastday[0].day.mintemp_c;
                document.getElementById("avgtemp_c").innerHTML = response.forecast.forecastday[0].day.avgtemp_c;
                document.getElementById("humidity").innerHTML = response.current.humidity;
                document.getElementById("heatindex_c").innerHTML = response.current.heatindex_c;
                document.getElementById("pressure_mb").innerHTML = response.current.pressure_mb;
                document.getElementById("wind_kph").innerHTML = response.current.wind_kph;
                document.getElementById("wind_degree").innerHTML = response.current.wind_degree;
                document.getElementById("sunrise").innerHTML = response.forecast.forecastday[0].astro.sunrise;
                document.getElementById("sunset").innerHTML = response.forecast.forecastday[0].astro.sunset;
                document.getElementById("moonrise").innerHTML = response.forecast.forecastday[0].astro.moonrise;
                document.getElementById("moonset").innerHTML = response.forecast.forecastday[0].astro.moonset;
            })
            .catch(err => console.error('Error fetching weather data:', err));
    }

    fetchdata(city);
});
            </script>
          </body>
        </html>
